{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pawani\\\\Desktop\\\\tool\\\\APK-malware-analysis-main\\\\APK-malware-analysis-main\\\\dashboard\\\\src\\\\components\\\\dashboard.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport Navbar from './Navbar.js';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport AssessmentOutlinedIcon from '@material-ui/icons/AssessmentOutlined';\nimport { Input } from '@material-ui/core';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Container from '@material-ui/core/Container';\nimport Box from '@material-ui/core/Box';\nimport BasicTable from './BasicTable.js';\nimport { jsPDF } from \"jspdf\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  customColor: {\n    background: '#00796b'\n  },\n  title: {\n    flexGrow: 1\n  },\n  header: {\n    color: '#00796b',\n    fontSize: '5.4rem'\n  },\n  button: {\n    margin: theme.spacing(1)\n  },\n  input: {\n    display: \"none\"\n  }\n}));\nconst Dashboard = () => {\n  _s();\n  const classes = useStyles();\n  const [file, setFile] = useState(null);\n  const [response, setResponse] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const handleChange = e => {\n    setResponse(false);\n    setFile(e.target.files[0]);\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (file) {\n      if (file.type !== \"application/vnd.android.package-archive\") {\n        alert(\"Please chooose an APK file !!\");\n        window.location.reload();\n      } else {\n        let form_data = new FormData();\n        setLoading(true);\n        form_data.append('file', file);\n        let url = 'http://localhost:8000/detect/upload';\n        axios.post(url, form_data, {\n          headers: {\n            'content-type': 'multipart/form-data'\n          }\n        }).then(res => {\n          setResponse(res.data);\n          setLoading(false);\n        }).catch(err => console.log(err));\n      }\n      ;\n    } else {\n      alert(\"Please choose a file!\");\n      window.location.reload();\n    }\n  };\n  const generatePDF = () => {\n    const pdf = new jsPDF(\"p\", \"pt\", \"a4\");\n    var x = 45;\n    // var width = pdf.internal.pageSize.width;    \n    // var height = width * hratio\n    pdf.setFontSize(18);\n    pdf.setFont(\"helvetica\", \"bold\");\n    pdf.text(\"Malware Analysis Report\", 180, 40);\n    pdf.setFont(\"times\", \"italic\");\n    pdf.setFontSize(16);\n    pdf.text(\"File Name: \", 40, 40 + x);\n    var longString1 = file.name;\n    var splitText1 = pdf.splitTextToSize(longString1, 400);\n    for (var y = 0, length1 = splitText1.length; y < length1; y++) {\n      pdf.text(splitText1[y], 115, 40 + x);\n      x = x + 20;\n    }\n    x = x + 10;\n    pdf.text(\"File Type: \" + file.type, 40, 40 + x);\n    x = x + 30;\n    pdf.text(\"File Size: \" + file.size, 40, 40 + x);\n    x = x + 45;\n    pdf.setFont(\"helvetica\", \"bold\");\n    pdf.text(\"Analysis Result\", 40, 40 + x);\n    x = x + 30;\n\n    // pdf.addImage(divImage, 'PNG', 40, 235, width-40, height);\n\n    pdf.setFont(\"times\", \"normal\");\n    var isMalware = response.is_malware;\n    if (isMalware === \"False\") {\n      pdf.text(\"No Malware Found\", 40, 40 + x);\n      x = x + 30;\n      pdf.setFont(\"times\", \"bold\");\n      pdf.text(\"Package Name: \", 40, 40 + x);\n      pdf.setFont(\"times\", \"normal\");\n      pdf.text(response.package, 150, 40 + x);\n      x = x + 30;\n      pdf.setFont(\"times\", \"bold\");\n      pdf.text(\"Permissions List: \", 40, 40 + x);\n      x = x + 20;\n      pdf.setFont(\"times\", \"normal\");\n      for (var i of response.permissions) {\n        pdf.text(i, 50, 40 + x);\n        x = x + 20;\n        var pageHeight1 = pdf.internal.pageSize.height;\n        if (x > pageHeight1 - 80) {\n          x = 0;\n          pdf.addPage();\n        }\n      }\n    } else {\n      pdf.text(\"Malware Found\", 40, 40 + x);\n      x = x + 30;\n      if (response.package) {\n        pdf.setFontSize(16);\n        pdf.setFont(\"times\", \"bold\");\n        pdf.text(\"Malicious Package Found: \", 40, 40 + x);\n        pdf.setFont(\"times\", \"normal\");\n        pdf.text(response.package, 230, 40 + x);\n        x = x + 30;\n      }\n      if (response.permissions.length > 0) {\n        pdf.setFont(\"times\", \"bold\");\n        pdf.text(\"Malicious Permissions Found: \", 40, 40 + x);\n        x = x + 20;\n        pdf.setFont(\"times\", \"normal\");\n        for (var j of response.permissions) {\n          pdf.text(j, 50, 40 + x);\n          x = x + 20;\n        }\n        x = x + 10;\n      }\n      if (response.combination.length > 0) {\n        pdf.setFont(\"times\", \"bold\");\n        pdf.text(\"Suspicious Permissions Found: \", 40, 40 + x);\n        x = x + 30;\n        pdf.setFont(\"times\", \"normal\");\n        var dict = response.permission_data;\n        for (var k of response.combination) {\n          pdf.setFontSize(16);\n          pdf.text(k, 50, 40 + x);\n          x = x + 20;\n          pdf.setFontSize(14);\n          if (dict[k]) {\n            var wrapWidth = 500;\n            var longString2 = dict[k];\n            var splitText2 = pdf.splitTextToSize(longString2, wrapWidth);\n            for (var l = 0, length2 = splitText2.length; l < length2; l++) {\n              pdf.text(splitText2[l], 50, 40 + x);\n              x = x + 15;\n            }\n            x = x + 10;\n          }\n          var pageHeight2 = pdf.internal.pageSize.height;\n          if (x > pageHeight2 - 80) {\n            x = 0;\n            pdf.addPage();\n          }\n        }\n      }\n    }\n    pdf.save(\"report.pdf\");\n    // })\n  };\n\n  function List(data) {\n    var dict = response.permission_data;\n    var arr = [];\n    for (var key in dict) {\n      arr.push(key);\n    }\n    const listItems = data.data.map((data, index) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: data\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this), dict[data] ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Description: \", data === arr[index] ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: dict[data]\n          }, void 0, false) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 27\n        }, this) : null]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: listItems\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.background_image,\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      pt: 10,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 0,\n        direction: \"column\",\n        alignItems: \"center\",\n        justify: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              children: \"Analyze suspicious apk files to detect malware.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"file\",\n              children: [/*#__PURE__*/_jsxDEV(Input, {\n                id: \"file\",\n                multiple: true,\n                type: \"file\",\n                className: classes.input,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                component: \"span\",\n                children: \"Choose an apk file\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              variant: \"contained\",\n              color: \"default\",\n              className: classes.button,\n              startIcon: /*#__PURE__*/_jsxDEV(CloudUploadIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 40\n              }, this),\n              children: \"Upload\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 25\n            }, this), file ? /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              gutterBottom: true,\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Filename: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 42\n                }, this), \" \", file.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 39\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"File type: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 42\n                }, this), \" \", file.type]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 39\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"File size: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 42\n                }, this), \" \", file.size, \" bytes\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 39\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 35\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 17\n        }, this), response ? null : loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n          color: \"secondary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 48\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [response ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [console.log(response.package), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            gutterBottom: true,\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              flexWrap: 'wrap'\n            },\n            className: classes.header,\n            children: [/*#__PURE__*/_jsxDEV(AssessmentOutlinedIcon, {\n              fontSize: \"large\",\n              style: {\n                paddingRight: 5\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 168\n            }, this), \"Analysis Result\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 266\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 272\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"response\",\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              children: [response.is_malware === \"True\" ? /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"MALWARE FOUND\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 75\n              }, this) : /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"NO THREATS FOUND\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 108\n              }, this), response.is_malware === \"True\" && response.package ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Malicious package found: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 100\n                }, this), response.package]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 95\n              }, this) : null, response.is_malware === \"True\" && response.permissions.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Malicious permissions found: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 117\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 112\n                }, this), /*#__PURE__*/_jsxDEV(List, {\n                  data: response.permissions\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 169\n                }, this)]\n              }, void 0, true) : null, response.is_malware === \"True\" && response.combination.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Suspicious permissions found: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 270,\n                    columnNumber: 117\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 112\n                }, this), /*#__PURE__*/_jsxDEV(List, {\n                  data: response.combination\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 170\n                }, this)]\n              }, void 0, true) : null, response.is_malware === \"False\" && response.package ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Package Name: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 101\n                }, this), response.package]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 96\n              }, this) : null, response.is_malware === \"False\" && response.permissions.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Permissions List: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 118\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 113\n                }, this), /*#__PURE__*/_jsxDEV(List, {\n                  data: response.permissions\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 159\n                }, this)]\n              }, void 0, true) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 35\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true) : null, response ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            pb: 5,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              variant: \"contained\",\n              color: \"default\",\n              className: classes.button,\n              startIcon: /*#__PURE__*/_jsxDEV(GetAppIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 48\n              }, this),\n              onClick: generatePDF,\n              children: \"Download PDF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 35\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 33\n          }, this), response.last_result.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h5\",\n              className: classes.header,\n              children: \"Previous Scan Results\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 39\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 127\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 133\n            }, this), response.last_scanned.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Last Scanned: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 82\n                }, this), response.last_scanned[0].substring(0, 10), \" at \", response.last_scanned[0].substring(10, 16)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 77\n              }, this)\n            }, void 0, false) : null, response.last_result.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Last Scan's Result: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 81\n                }, this), String(response.last_result[0])]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 76\n              }, this)\n            }, void 0, false) : null, /*#__PURE__*/_jsxDEV(BasicTable, {\n              last_scanned: response.last_scanned,\n              last_result: response.last_result\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 39\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 39\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 37\n          }, this) : null]\n        }, void 0, true) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 220,\n    columnNumber: 7\n  }, this);\n};\n_s(Dashboard, \"NT8kXdCv0erK4nw/k5pAiDWq5Vc=\", false, function () {\n  return [useStyles];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","axios","Navbar","Grid","makeStyles","Typography","Button","CloudUploadIcon","GetAppIcon","AssessmentOutlinedIcon","Input","CircularProgress","Container","Box","BasicTable","jsPDF","jsxDEV","_jsxDEV","Fragment","_Fragment","useStyles","theme","root","flexGrow","menuButton","marginRight","spacing","customColor","background","title","header","color","fontSize","button","margin","input","display","Dashboard","_s","classes","file","setFile","response","setResponse","loading","setLoading","handleChange","e","target","files","handleSubmit","preventDefault","type","alert","window","location","reload","form_data","FormData","append","url","post","headers","then","res","data","catch","err","console","log","generatePDF","pdf","x","setFontSize","setFont","text","longString1","name","splitText1","splitTextToSize","y","length1","length","size","isMalware","is_malware","package","i","permissions","pageHeight1","internal","pageSize","height","addPage","j","combination","dict","permission_data","k","wrapWidth","longString2","splitText2","l","length2","pageHeight2","save","List","arr","key","push","listItems","map","index","children","fileName","_jsxFileName","lineNumber","columnNumber","className","background_image","pt","container","direction","alignItems","justify","onSubmit","htmlFor","id","multiple","onChange","variant","component","startIcon","gutterBottom","style","flexWrap","paddingRight","pb","onClick","last_result","last_scanned","substring","String","_c","$RefreshReg$"],"sources":["C:/Users/Pawani/Desktop/tool/APK-malware-analysis-main/APK-malware-analysis-main/dashboard/src/components/dashboard.js"],"sourcesContent":["import React from 'react';\nimport { useState } from 'react';\nimport axios from 'axios';\n\nimport Navbar from './Navbar.js';\n\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport AssessmentOutlinedIcon from '@material-ui/icons/AssessmentOutlined';\n\nimport { Input } from '@material-ui/core';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Container from '@material-ui/core/Container';\nimport Box from '@material-ui/core/Box';\n\nimport BasicTable from './BasicTable.js';\n\nimport { jsPDF } from \"jspdf\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  customColor: {\n    background : '#00796b',\n  },\n  title: {\n    flexGrow: 1,\n  },\n  header: {\n    color: '#00796b',\n    fontSize: '5.4rem',\n  },\n  button: {\n    margin: theme.spacing(1),\n  },\n  input: {\n    display: \"none\",\n  },\n}));\n\nconst Dashboard = () => {\n\n    const classes = useStyles();\n\n    const [file, setFile] = useState(null);\n    const [response, setResponse] = useState(null);\n    const [loading, setLoading] = useState(false);\n    \n    const handleChange = (e) => {\n        setResponse(false);\n        setFile(e.target.files[0]);\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if(file) {\n          if(file.type !== \"application/vnd.android.package-archive\") {\n            alert(\"Please chooose an APK file !!\");\n            window.location.reload();\n          }\n          else {\n            let form_data = new FormData();\n            setLoading(true);\n            form_data.append('file', file);\n            let url = 'http://localhost:8000/detect/upload';\n            axios.post(url, form_data, {\n                headers: {\n                    'content-type': 'multipart/form-data'\n                }\n            })\n            .then(res => {\n                setResponse(res.data);\n                setLoading(false);\n            })\n            .catch(err => console.log(err))\n          };\n        }\n        else {\n          alert(\"Please choose a file!\");\n          window.location.reload();\n        }\n    }\n\n    const generatePDF = () => {\n        const pdf = new jsPDF(\"p\",\"pt\",\"a4\");\n        var x = 45;\n        // var width = pdf.internal.pageSize.width;    \n        // var height = width * hratio\n        pdf.setFontSize(18);\n        pdf.setFont(\"helvetica\", \"bold\");\n        pdf.text(\"Malware Analysis Report\", 180, 40);\n        pdf.setFont(\"times\", \"italic\");\n        pdf.setFontSize(16);\n        pdf.text(\"File Name: \", 40, 40 + x);\n\n        var longString1 = file.name;\n        var splitText1 = pdf.splitTextToSize(longString1, 400)\n\n        for (var y = 0, length1 = splitText1.length; y < length1; y++) {\n          pdf.text(splitText1[y], 115, 40 + x);\n          x = x + 20;\n        }\n        x = x + 10;\n\n        pdf.text(\"File Type: \"+file.type, 40, 40 + x); x = x + 30;\n        pdf.text(\"File Size: \"+file.size, 40, 40 + x); x = x + 45;\n        pdf.setFont(\"helvetica\", \"bold\");\n        pdf.text(\"Analysis Result\", 40, 40 + x); x = x + 30;\n        \n        // pdf.addImage(divImage, 'PNG', 40, 235, width-40, height);\n\n        pdf.setFont(\"times\", \"normal\");\n        var isMalware = response.is_malware;\n\n        if(isMalware === \"False\") {\n          pdf.text(\"No Malware Found\", 40, 40 + x); x = x + 30;\n          pdf.setFont(\"times\", \"bold\");\n          pdf.text(\"Package Name: \", 40, 40 + x);\n          pdf.setFont(\"times\", \"normal\");\n          pdf.text(response.package, 150, 40 + x); x = x + 30;\n          pdf.setFont(\"times\", \"bold\");\n          pdf.text(\"Permissions List: \", 40, 40 + x); x = x + 20;\n          pdf.setFont(\"times\", \"normal\");\n          for(var i of response.permissions) {\n            pdf.text(i, 50, 40 + x);\n            x = x + 20;\n            var pageHeight1 = pdf.internal.pageSize.height;\n            if(x > pageHeight1 - 80) {\n              x = 0;\n              pdf.addPage();\n            }\n          }\n        }\n\n        else {\n          pdf.text(\"Malware Found\", 40, 40 + x); x = x + 30;\n          if(response.package) {\n            pdf.setFontSize(16);\n            pdf.setFont(\"times\", \"bold\");\n            pdf.text(\"Malicious Package Found: \", 40, 40 + x);\n            pdf.setFont(\"times\", \"normal\");\n            pdf.text(response.package, 230, 40 + x); x = x + 30;\n          }\n\n          if(response.permissions.length > 0) {\n            pdf.setFont(\"times\", \"bold\");\n            pdf.text(\"Malicious Permissions Found: \", 40, 40 + x); x = x + 20;\n            pdf.setFont(\"times\", \"normal\");\n            for(var j of response.permissions) {\n              pdf.text(j, 50, 40 + x);\n              x = x + 20;\n            }\n            x = x + 10;\n          }\n\n          if(response.combination.length > 0) {\n            pdf.setFont(\"times\", \"bold\");\n            pdf.text(\"Suspicious Permissions Found: \", 40, 40 + x); x = x + 30;\n            pdf.setFont(\"times\", \"normal\");\n            var dict = response.permission_data;\n            for(var k of response.combination) {\n\n              pdf.setFontSize(16);\n              pdf.text(k, 50, 40 + x); x = x + 20;\n              pdf.setFontSize(14);\n              if(dict[k]) {\n                var wrapWidth = 500;\n                var longString2 = dict[k];\n                var splitText2 = pdf.splitTextToSize(longString2, wrapWidth)\n                for (var l = 0, length2 = splitText2.length; l < length2; l++) {\n                  pdf.text(splitText2[l], 50, 40 + x);\n                  x = x + 15;\n                }\n                x = x + 10;\n              }\n              var pageHeight2 = pdf.internal.pageSize.height;\n              if(x > pageHeight2 - 80) {\n                x = 0;\n                pdf.addPage();\n              }\n            }\n          }\n        }\n        pdf.save(\"report.pdf\");\n      // })\n    };\n\n    function List(data) {\n\n      var dict = response.permission_data\n      var arr = []\n      for(var key in dict) {\n        arr.push(key);\n      }\n\n      const listItems = data.data.map((data, index) => {\n        return (\n          <div key={index}>\n            <li key={index}>\n              {data}\n            </li>\n            {dict[data] ? <div>Description: { data === arr[index] ? <>{dict[data]}</> : null}</div> : null}\n          </div>\n        )\n      });\n      return (\n        <ul>{listItems}</ul>\n      );\n    }\n\n    return (\n      <div className={classes.background_image}>\n          <Navbar />\n          <Box pt = {10}>\n            <Grid\n                container\n                spacing={0}\n                direction=\"column\"\n                alignItems=\"center\"\n                justify=\"center\"\n            >\n                <div>\n                    \n                    <form onSubmit={handleSubmit}>\n                      <Typography>Analyze suspicious apk files to detect malware.</Typography>\n                        <label htmlFor=\"file\">\n                            <Input id=\"file\" multiple type=\"file\" className={classes.input} onChange={handleChange}/>\n                            <Button variant=\"outlined\" component=\"span\">\n                                Choose an apk file\n                            </Button>  \n                        </label>\n                        <Button\n                            type = \"submit\"\n                            variant=\"contained\"\n                            color=\"default\"\n                            className={classes.button}\n                            startIcon={<CloudUploadIcon />}\n                        >\n                            Upload\n                        </Button>\n                        {file ?   <Typography variant=\"subtitle1\" gutterBottom>\n                                      <p><strong>Filename: </strong> {file.name}</p>\n                                      <p><strong>File type: </strong> {file.type}</p>\n                                      <p><strong>File size: </strong> {file.size} bytes</p>\n                                  </Typography> : null }\n                    </form>\n                </div>\n                {response ? null : (loading ?  <CircularProgress color=\"secondary\" /> : null)}\n            </Grid>\n          </Box>\n            <Container>\n              <div>\n                  {response ?   <>\n                                {console.log(response.package)}\n                                <br />\n                                <Typography variant=\"h5\" gutterBottom style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap',}} className = {classes.header}><AssessmentOutlinedIcon fontSize=\"large\" style={{ paddingRight: 5,}}/>Analysis Result</Typography><hr /><br />\n                                <div id=\"response\">\n                                  <Typography variant=\"subtitle1\"> \n                                      {(response.is_malware === \"True\") ? <strong>MALWARE FOUND</strong> : <strong>NO THREATS FOUND</strong>}\n                                      {(response.is_malware === \"True\" && response.package) ? <div><strong>Malicious package found: </strong>{response.package}</div> : null}\n                                      {(response.is_malware === \"True\" && response.permissions.length > 0) ? <><div><strong>Malicious permissions found: </strong></div><List data = {response.permissions}/></>: null}\n                                      {(response.is_malware === \"True\" && response.combination.length > 0) ? <><div><strong>Suspicious permissions found: </strong></div><List data = {response.combination}/></>: null}\n                                      {(response.is_malware === \"False\" && response.package) ? <div><strong>Package Name: </strong>{response.package}</div> : null}\n                                      {(response.is_malware === \"False\" && response.permissions.length > 0) ? <><div><strong>Permissions List: </strong></div><List data = {response.permissions} /></> : null}\n                                  </Typography>\n                                </div>\n                              </>\n                            : null\n                  }\n              \n                  {response ? <>\n                                <Box pb = {5}>\n                                  <Button\n                                    type = \"submit\"\n                                    variant=\"contained\"\n                                    color=\"default\"\n                                    className={classes.button}\n                                    startIcon={<GetAppIcon />}\n                                    onClick={generatePDF}\n                                  >\n                                    Download PDF\n                                  </Button>\n                                </Box>\n                                {(response.last_result.length>0) ?\n                                    <div>\n                                      <Typography variant=\"h5\" className = {classes.header}>Previous Scan Results</Typography><hr /><br />\n                                      {(response.last_scanned.length>0) ? <><div><strong>Last Scanned: </strong>{(response.last_scanned[0]).substring(0, 10)} at {(response.last_scanned[0]).substring(10, 16)}</div></> : null}\n                                      {(response.last_result.length>0) ? <><div><strong>Last Scan's Result: </strong>{String(response.last_result[0])}</div></> : null}\n                                      <BasicTable last_scanned = {response.last_scanned}  last_result = {response.last_result}/>\n                                      <br /><br />\n                                    </div>\n                                    : null } \n                                    \n                              </>  : null }\n                              \n              </div>\n            </Container>\n      </div>\n    );\n}\n\nexport default Dashboard;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}